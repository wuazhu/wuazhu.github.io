<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>Typescript | Vicson&#39;s blog</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Vicson's blog">
    <meta name="author" content="Vicson Wu">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Vicson&#39;s blog" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

<div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
  <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
    <img src="/img/close.png" alt="Close" />
  </div>
  <!-- Lists in Slidebars -->
  <ul class="sb-menu">
    <li><a href="/" class="animsition-link" title="Home">Home</a></li>
    <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
    <!-- Dropdown Menu -->
    
      <li>
        <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
        <ul class="sb-submenu">
          
            <li>
              <a href="/" target="_BLANK" class="animsition-link">
                AAA
              </a>
            </li>
            
            <li>
              <a href="/atom.xml" target="_BLANK" class="animsition-link">
                BBB
              </a>
            </li>
            
        </ul>
      </li>
      
        
            
              <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                  
                    <li>
                      <a href="http://go.kieran.top/" class="animsition-link">
                        Kieran
                      </a>
                    </li>
                    
                    <li>
                      <a href="http://domain.com/" class="animsition-link">
                        Name
                      </a>
                    </li>
                    
                </ul>
              </li>
              
  </ul>
  <!-- Lists in Slidebars -->
  <ul class="sb-menu secondary">
    <li><a href="/about/index.html" class="animsition-link" title="about">About</a></li>
    <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
  </ul>
</div>

<!-- ============================ END Off-canvas navigation =========================== -->

<!-- ============================ #sb-site Main Page Wrapper =========================== -->

<div id="sb-site">
  <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

  <!-- ============================ Header & Logo bar =========================== -->

  <div id="navigation" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- Nav logo -->
        <div class="logo">
          <a href="/" title="Logo" class="animsition-link">
             <img src="/img/logo.svg" alt="Logo" width="35px;" />
              
          </a>
        </div>
        <!-- // Nav logo -->
        <!-- Info-bar -->
        <nav>
          <ul class="nav">
            <li>
              <a href="/" class="animsition-link">
                Vicson's blog
              </a>
            </li>
            <li class="nolink"><span>Always </span>Creative.</li>
            
              <li><a href="https://github.com/wuazhu" title="Github" target="_blank"><i class="icon-github"></i></a></li>
              
                <!-- 
                  <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                   -->
                
                  <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>
                  
                    <!-- 
                      <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>
                       -->
                    
                      <li><a href="http://weibo.com/小卖部新掌柜" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                      
                        <li class="nolink"><span>Welcome!</span></li>
          </ul>
        </nav>
        <!--// Info-bar -->
      </div>
      <!-- // .container -->
      <div class="learnmore sb-toggle-right">More</div>
      <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
    </div>
    <!-- // .navbar-inner -->
  </div>

  <!-- ============================ Header & Logo bar =========================== -->

      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2019-05-28T16:27:49.000Z" itemprop="datePublished">
          2019-05-29
      </time>
    
</span>
                <h1>Typescript</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<p><strong> Ts 学习记录 </strong></p>
<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><ul>
<li>数字, 字符串, 布尔</li>
<li>null undefined</li>
<li>数组, 元组, 枚举</li>
<li>void, any, Never, unknown</li>
</ul>
<blockquote>
<p>使用方式</p>
</blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a:<span class="built_in">number</span>;</div><div class="line"><span class="keyword">let</span> arr: nember[]</div><div class="line">arr[<span class="number">1</span>] = <span class="number">20</span></div><div class="line">arr[<span class="number">1</span>] = <span class="string">'20'</span> <span class="comment">// 报错</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> arr2: <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt;</div><div class="line">arr[<span class="number">1</span>] = <span class="number">20</span></div><div class="line">arr[<span class="number">1</span>] = <span class="string">'20'</span> <span class="comment">// 报错</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> b:<span class="built_in">string</span> = <span class="string">'2'</span></div><div class="line"><span class="keyword">let</span> b:<span class="built_in">String</span> = <span class="string">'22'</span></div><div class="line"><span class="keyword">let</span> b:<span class="built_in">string</span> = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'ab'</span>) <span class="comment">// 报错</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> data: [<span class="built_in">number</span>, <span class="built_in">string</span>, <span class="built_in">boolean</span>]</div><div class="line">data[<span class="number">0</span>] = <span class="number">1</span></div><div class="line">data[<span class="number">1</span>] = <span class="string">'2'</span></div><div class="line">data[<span class="number">2</span>] = <span class="literal">true</span></div><div class="line"><span class="comment">// 对于超出部分, 采用的是联合类型(可以是 number, string, boolean)</span></div><div class="line">data[<span class="number">3</span>] = <span class="literal">false</span></div><div class="line">data[<span class="number">4</span>] = &#123;&#125;    <span class="comment">// 报错</span></div></pre></td></tr></table></figure>
<h2 id="联合类型"><a href="#联合类型" class="headerlink" title="联合类型"></a>联合类型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a: <span class="built_in">number</span>|<span class="built_in">string</span></div></pre></td></tr></table></figure>
<h2 id="null-undefined-类型-null与-undefined-类型不能被改变为别的类型-但是可以赋值给别的类型"><a href="#null-undefined-类型-null与-undefined-类型不能被改变为别的类型-但是可以赋值给别的类型" class="headerlink" title="null, undefined 类型 (null与 undefined 类型不能被改变为别的类型, 但是可以赋值给别的类型)"></a>null, undefined 类型 (null与 undefined 类型不能被改变为别的类型, 但是可以赋值给别的类型)</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a: <span class="literal">null</span></div><div class="line">a = <span class="number">1</span>   <span class="comment">// 报错</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> b:<span class="built_in">string</span></div><div class="line">b = <span class="literal">null</span>    <span class="comment">// ok</span></div></pre></td></tr></table></figure>
<h2 id="枚举-enum"><a href="#枚举-enum" class="headerlink" title="枚举 enum"></a>枚举 enum</h2><blockquote>
<p>有限的可能性</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">enum GENDER &#123;</div><div class="line">    MALE,</div><div class="line">    FAMALE</div><div class="line">&#125;</div><div class="line">var a:GENDER</div><div class="line">a = &apos;abc&apos;   // 报错</div><div class="line">a = GENDER.MALE   // ok</div></pre></td></tr></table></figure>
<h2 id="any类型"><a href="#any类型" class="headerlink" title="any类型"></a>any类型</h2><blockquote>
<p>变体变量, 如原生 js</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var a</div><div class="line">a = 1</div><div class="line">a = &apos;abc&apos;</div></pre></td></tr></table></figure>
<h2 id="类型推测"><a href="#类型推测" class="headerlink" title="类型推测"></a>类型推测</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var a=12    // 与下面一个意思</div><div class="line">var a:number = 12</div><div class="line"></div><div class="line">var a</div><div class="line">a = &apos;abc&apos;</div><div class="line">//相当于</div><div class="line">var a:any</div><div class="line">a = &apos;abc&apos;</div></pre></td></tr></table></figure>
<h2 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h2><blockquote>
<ol>
<li>参数类型</li>
<li>返回值类型</li>
</ol>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function show(a, b) &#123;</div><div class="line">    return a+b</div><div class="line">&#125;</div><div class="line">show(10, 20)    // 默认推断为 any 类型</div><div class="line">show(&apos;a&apos;, 10, 20)   // 报错</div></pre></td></tr></table></figure>
<h2 id="declare-外部声明"><a href="#declare-外部声明" class="headerlink" title="declare  外部声明"></a>declare  外部声明</h2><blockquote>
<p>如果有外部变量声明, 略过 声明语句中只能定义类型，切勿在声明语句中定义具体的值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">declare var $</div><div class="line">$(function()&#123;</div><div class="line">    $(&apos;#div&apos;).css(&apos;width&apos;, &apos;200px&apos;)</div><div class="line">&#125;)</div><div class="line">declare var $: (selector: string) =&gt; any</div><div class="line">$(function()&#123;</div><div class="line">    $(&apos;#div&apos;).css(&apos;width&apos;, &apos;200px&apos;)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">// 函数重载类型声明</div><div class="line">declare function jQuery(selector: string): any;</div><div class="line">declare function jQuery(domReadyCallback: () =&gt; any): any;</div><div class="line"></div><div class="line">jQuery(&apos;#foo&apos;);</div><div class="line">jQuery(function() &#123;</div><div class="line">    alert(&apos;Dom Ready!&apos;);</div><div class="line">&#125;);</div><div class="line">// 声明类也只能定义类型, 不能定义具体值或方法</div><div class="line">declare class Animal &#123;</div><div class="line">    constructor(name: string);</div><div class="line">    sayHi() &#123;</div><div class="line">        return `My name is $&#123;this.name&#125;`;</div><div class="line">    &#125;;</div><div class="line">    // ERROR: An implementation cannot be declared in ambient contexts.</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">function ajax(</div><div class="line">    url:string,</div><div class="line">    success:(res:string, code:number)=&gt;void,</div><div class="line">    error: (code:number) =&gt; void</div><div class="line">    </div><div class="line">ajax(</div><div class="line">    &apos;./1.txt&apos;,</div><div class="line">    function(&apos;xxxx&apos;, 123) &#123;</div><div class="line">        return 123</div><div class="line">        // 报错, 不能有返回值</div><div class="line">    &#125;,</div><div class="line">    function(code) &#123;</div><div class="line">        console.log(code)</div><div class="line">    &#125;</div><div class="line">)</div><div class="line"></div><div class="line">function show(a:&#123;x:number, y:number&#125;) &#123;</div><div class="line">&#125;</div><div class="line">show(12)    // 报错</div><div class="line">show(&#123;x:10, y:20&#125;)</div><div class="line">// 一般都定义到 json 内部类型</div><div class="line">function show(a:Object) &#123;</div><div class="line">&#125;</div><div class="line">show(12)    // 报错</div><div class="line">show(&#123;x:10, y:20&#125;)</div></pre></td></tr></table></figure>
<h2 id="复合类型-ObjectType"><a href="#复合类型-ObjectType" class="headerlink" title="复合类型( ObjectType )"></a>复合类型( ObjectType )</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">var a:&#123;</div><div class="line">    x: number,</div><div class="line">    y: number</div><div class="line">&#125;</div><div class="line">a = &#123;</div><div class="line">    x: 12,</div><div class="line">    y: 20</div><div class="line">&#125;</div><div class="line"></div><div class="line">var point: &#123;</div><div class="line">    x: number,</div><div class="line">    y: number,</div><div class="line">    z?: number</div><div class="line">&#125;</div><div class="line">point = &#123;</div><div class="line">    x: 1,</div><div class="line">    y: 2,</div><div class="line">    z: 3    // z 可有可无</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="接口类型"><a href="#接口类型" class="headerlink" title="接口类型 ???"></a>接口类型 ???</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">interface Person &#123;</div><div class="line">    name: string;   // 定义类型</div><div class="line">    age?: number;   // 可选参数</div><div class="line">    [propName: string]: any;    // 其他不确定参数</div><div class="line">&#125;</div><div class="line"></div><div class="line">let tom: Person = &#123;</div><div class="line">    name: &apos;Tom&apos;,</div><div class="line">    gender: &apos;male&apos;</div><div class="line">&#125;;</div><div class="line">// 只读</div><div class="line">interface Person &#123;</div><div class="line">    readonly id: number;</div><div class="line">    name: string;</div><div class="line">    age?: number;</div><div class="line">    [propName: string]: any;</div><div class="line">&#125;</div><div class="line"></div><div class="line">let tom: Person = &#123;</div><div class="line">    name: &apos;Tom&apos;,</div><div class="line">    gender: &apos;male&apos;</div><div class="line">    // id: 123   如果是 readonly需要在对象声明的时候就赋值,</div><div class="line">&#125;;</div><div class="line"></div><div class="line">tom.id = 89757;</div><div class="line">// 注意，只读的约束存在于第一次给对象赋值的时候，而不是第一次给只读属性赋值的时候</div></pre></td></tr></table></figure>
<h2 id="用接口方式定义函数的形状"><a href="#用接口方式定义函数的形状" class="headerlink" title="用接口方式定义函数的形状"></a>用接口方式定义函数的形状</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">interface SearchFunc &#123;</div><div class="line">    (source: string, subString: string): boolean;</div><div class="line">&#125;</div><div class="line"></div><div class="line">let mySearch: SearchFunc;</div><div class="line">mySearch = function(source: string, subString: string) &#123;</div><div class="line">    return source.search(subString) !== -1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="函数表达式式"><a href="#函数表达式式" class="headerlink" title="函数表达式式"></a>函数表达式式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// 非推荐</div><div class="line">let mySum = function (x: number, y: number): number &#123;</div><div class="line">    return x + y;</div><div class="line">&#125;;</div><div class="line">// 正确姿势</div><div class="line">let mySum: (x: number, y: number) =&gt; number = function (x: number, y: number): number &#123;</div><div class="line">    return x + y;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h2><blockquote>
<p>针对同名函数, 跟进入参不同返回不同出参</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params">x: number</span>): <span class="title">number</span>;</span></div><div class="line"><span class="title">function</span> <span class="title">reverse</span>(<span class="params">x: string</span>): <span class="title">string</span>;</div><div class="line"><span class="title">function</span> <span class="title">reverse</span>(<span class="params">x: number | string</span>): <span class="title">number</span> | <span class="title">string</span> &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">'number'</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Number</span>(x.toString().split(<span class="string">''</span>).reverse().join(<span class="string">''</span>));</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">'string'</span>) &#123;</div><div class="line">        <span class="keyword">return</span> x.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h2><blockquote>
<p>当 TypeScript 不确定一个联合类型的变量到底是哪个类型的时候，我们只能访问此联合类型的所有类型里共有的属性或方法</p>
</blockquote>
<p><strong>  类型断言不是类型转换，断言成一个联合类型中不存在的类型是不允许的</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params">a: string| number</span>): <span class="title">number</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> a.length     <span class="comment">// number 里没有. length 方法, 会报错</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params">b: string | number</span>): <span class="title">number</span> </span>&#123;</div><div class="line">    <span class="comment">// 使用断言</span></div><div class="line">    <span class="keyword">if</span> ((&lt;string&gt;b).length) &#123;</div><div class="line">        return (&lt;string&gt;b).length</div><div class="line">    &#125; else &#123;</div><div class="line">        return b.toString().length</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">interface</span> Todo &#123;</div><div class="line">    id: <span class="built_in">number</span>,</div><div class="line">    name: <span class="built_in">string</span>,</div><div class="line">    version: <span class="built_in">string</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">interface</span> Result&lt;T&gt; &#123;</div><div class="line">    ok: <span class="number">200</span> | <span class="number">404</span>,</div><div class="line">    data: T[]</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 泛型函数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>&lt;<span class="title">T</span>&gt;(<span class="params"></span>): <span class="title">Result</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">const</span> data: <span class="built_in">any</span>[] = [</div><div class="line">        &#123; id: <span class="number">1</span>, name: <span class="string">'name1'</span>, version: <span class="string">'2.0'</span> &#125;,</div><div class="line">        &#123; id: <span class="number">2</span>, name: <span class="string">'name2'</span>, version: <span class="string">'1.0'</span> &#125;</div><div class="line">    ]</div><div class="line">    <span class="keyword">return</span> &#123; ok: <span class="number">1</span>, data &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">private</span> todos: Todo[] = []</div><div class="line"></div><div class="line"><span class="keyword">private</span> created() &#123;</div><div class="line">    <span class="keyword">this</span>.todos = getData&lt;Todo&gt;().data</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// Promise 版本</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>&lt;<span class="title">T</span>&gt;(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Result</span>&lt;<span class="title">T</span>&gt;&gt; </span>&#123;</div><div class="line">    <span class="keyword">const</span> data: <span class="built_in">any</span>[] = [</div><div class="line">        &#123; id: <span class="number">1</span>, name: <span class="string">'name1'</span>, version: <span class="string">'2.0'</span> &#125;,</div><div class="line">        &#123; id: <span class="number">2</span>, name: <span class="string">'name2'</span>, version: <span class="string">'1.0'</span> &#125;</div><div class="line">    ]</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(&#123; ok: <span class="number">1</span>, data &#125; <span class="keyword">as</span> Result&lt;T&gt;)</div><div class="line">&#125;</div><div class="line"><span class="keyword">private</span> <span class="keyword">async</span> created() &#123;</div><div class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> getData&lt;Todo&gt;()</div><div class="line">    <span class="keyword">this</span>.todos = result.data</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Vue-结合-Ts"><a href="#Vue-结合-Ts" class="headerlink" title="Vue 结合 Ts"></a>Vue 结合 Ts</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;&#125; <span class="keyword">from</span> <span class="string">'vue-property-decorator'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> <span class="keyword">extends</span> <span class="title">Vue</span> </span>&#123;</div><div class="line">    <span class="comment">// 访问修饰符</span></div><div class="line">    <span class="comment">// private 仅当前类可用</span></div><div class="line">    <span class="comment">// protected 子类也可用</span></div><div class="line">    <span class="comment">// public  都可以用</span></div><div class="line">    </div><div class="line">    <span class="comment">// 属性 msg 是必传</span></div><div class="line">    @Prop() private msg!: string</div><div class="line">    <span class="comment">// 属性 name 是可选的,默认值是匿名</span></div><div class="line">    @Prop(&#123;</div><div class="line">        <span class="attr">default</span>: <span class="string">'匿名'</span></div><div class="line">    &#125;) private name?: string</div><div class="line">    </div><div class="line">    <span class="comment">// 相当与 data()  里的属性</span></div><div class="line">    private features = [<span class="string">'属性1'</span>, <span class="string">'属性2'</span>] </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>拓展</p>
</blockquote>
<ul>
<li><a href="https://segmentfault.com/a/1190000011744210" target="_blank" rel="external">sf TS-vue 结合详解-基础篇</a></li>
<li><a href="https://segmentfault.com/a/1190000011878086" target="_blank" rel="external">sf TS-vue 结合详解-进阶篇</a></li>
<li><a href="https://github.com/kaorun343/vue-property-decorator" target="_blank" rel="external">vue-property-decorator官方文档</a></li>
<li><a href="https://cn.vuejs.org/v2/guide/typescript.html#%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84-Vue-%E7%BB%84%E4%BB%B6" target="_blank" rel="external">vue 官网 ts 支持</a></li>
</ul>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    <a class="pull-left" href="/2019/05/29/Typescript-1/" style="float: left;">
        ← Typescript
    </a>
    
    
    <a class="pull-right" href="/2018/06/12/头条笔试-md/">
        头条笔试.md →
    </a>
    
</nav>

        <div class="duoshuo">


</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer style="padding-top:30px">
    <div class="container">
      <div class="thks">
        <a href="https://www.upyun.com" style="color:#767D84;margin-left:20px;"><img src="/img/upc_logo8.svg" alt="" width="120px"> <span>感谢又拍云提供免费服务</span></a>
      </div>
      <div class="copy">
          <p>
              &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Vicson Wu. All Rights Reserved.
          </p>
          <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
      </div>
      <div class="social">
          <ul>
              
              <li><a href="https://github.com/wuazhu" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
              
              
              <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
              
              
              <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
              
              
              <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
              
              
              <li><a href="http://weibo.com/小卖部新掌柜" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
              
          </ul>
      </div>
      <div class="clearfix"> </div>

    </div>
</footer>

<!-- ============================ END Footer =========================== -->

      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      (function(){
        console.log('font');
        var getCss = function(path) {
          var head = document.getElementsByTagName('head')[0];
          link = document.createElement('link');
          link.href = path;
          link.rel = 'stylesheet';
          link.type = 'text/css';
          head.appendChild(link);
        };
        getCss('https://fonts.googleapis.com/css?family=Montserrat:400,700');
        getCss('https://fonts.googleapis.com/css?family=Open+Sans:400,600');
      })();
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
